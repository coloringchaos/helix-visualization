<!DOCTYPE html>
<html lang="en">

	<head>
		<title>helix viz</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel=stylesheet href="css/style.css"/>
	</head>

	<body>

		<script src="http://threejs.org/build/three.min.js"></script>
		<script src="http://threejs.org/examples/js/loaders/OBJLoader.js"></script>

		<script src="libs/OrbitControls.js"></script>
		<script src="libs/THREEx.WindowResize.js"></script>

		<script>

		// MAIN

			// standard global variables
			var container, scene, camera, renderer, controls, stats;

			//custom global variables
			var mouseX = 0, mouseY = 0;
			var windowHalfX = window.innerWidth / 2;
			var windowHalfY = window.innerHeight / 2 ;

			init();
			animate();



		// FUNCTIONS

			function init() {

				// SCENE
				scene = new THREE.Scene();

				// CAMERA
				var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;
				var VIEW_ANGLE = 45, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;
				camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR);
				scene.add(camera);
				camera.position.set(0, 20, 0);
				camera.position.z = 50;
				//camera.lookOut needs to be called in render function below

				// RENDERER
				renderer = new THREE.WebGLRenderer({ antialias: true, alpha:true });
				renderer.setClearColor( 0xffffff ); 
				renderer.setSize( window.innerWidth, window.innerHeight );

				container = document.createElement( 'div' );
				document.body.appendChild( container );
				container.appendChild( renderer.domElement );

				// EVENTS
				THREEx.WindowResize(renderer, camera);

				// CONTROLS
				controls = new THREE.OrbitControls( camera, renderer.domElement );

				// LIGHT
				var ambient = new THREE.AmbientLight( 0x000000 );
				scene.add( ambient );
				var directionalLight = new THREE.DirectionalLight( 0xffeedd );
				directionalLight.position.set( 0, 0, 1 );
				scene.add( directionalLight );

				// TEXTURE
				var manager = new THREE.LoadingManager();
				manager.onProgress = function ( item, loaded, total ) {
					console.log( item, loaded, total );
				};

				// MODEL
				var loader = new THREE.OBJLoader( manager );
				loader.load( 'helix.obj', function ( object ) {

                    object.rotation.x = 20* Math.PI / 180;
                    object.rotation.z = 20* Math.PI / 180; // NOTE TO SELF... Math.PI / 180 converts a degrees into radians.
                    object.scale.x = 50;
                    object.scale.y = 50;
                    object.scale.z = 50;
                    obj = object;
					scene.add( obj );

				} );

			} //end init

			function checkIntersection() {
				//find if mouse is over the model
			}

			function animate() {
				requestAnimationFrame( animate );
				render();
			}

			function render() {
				camera.lookAt( scene.position );
				renderer.render( scene, camera );
			}

		</script>
	</body>
</html>